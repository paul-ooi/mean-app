<!--<div class="container">-->
<!--<agm-map [latitude]="lat" [longitude]="lng" (mapClick)="onChoseLocation($event)">-->
<!--<agm-marker [latitude]="lat" [longitude]="lng" *ngIf="locationChoosen"></agm-marker>-->
<!--</agm-map>-->
<!--</div>-->
<div class="container">
  <div>Location Coordinates: ({{searchLocation.lat}}, {{searchLocation.lng}})</div>
  <div>Search: {{searchFilter}}</div>
  <agm-map [latitude]="lat" [longitude]="lng" [zoom]="zoom" [scrollwheel]="true">
    <ng-container *ngIf="mapResults">
      <!--<agm-marker [latitude]="lat" [longitude]="lng"></agm-marker>-->
      <ng-container *ngFor="let marker of mapResults; let i = index">
        <ng-container *ngIf="i < maxMarkers">
          <agm-marker [latitude]="marker.geometry.location.lat()"
                      [longitude]="marker.geometry.location.lng()">
            <agm-info-window>
              <img src="{{marker.icon}}" width="20px;"/> {{marker.name}}
              <div>Rating: {{marker.rating}}</div>
            </agm-info-window>
          </agm-marker>
        </ng-container>
      </ng-container>
    </ng-container>
    <!--<agm-marker [latitude]="lat" [longitude]="lng" *ngIf="locationChosen"></agm-marker>-->
  </agm-map>
</div>
